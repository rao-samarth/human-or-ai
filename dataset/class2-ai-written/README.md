# Class 2 - AI Generated Text

This class of the dataset contains 500 paragraphs, generated by Gemini 3 Pro (latest at the time of creation).  
The topics of the 500 paragraphs span various overarching themes of our 2 authors.  

I generated the 500 paragraphs using [generator-script.py](generator-script.py).  

## Explanation of a few elements of code, and the choices we made

### Model Selection and API
We use **Google's Gemini API** (via the `google.genai` package) with the `gemini-pro-latest` model. This choice was made because:
- The newer Gemini models produce more natural, human-like text compared to earlier models
- The API provides good control over generation parameters (temperature, top_p, max tokens)
- We increased `max_output_tokens` to 2048 to account for "thinking tokens" that the newer models use internally, which can consume a significant portion of the token budget

### Diversity Mechanisms
To ensure variety in the generated text and avoid repetitive patterns, we implemented multiple diversity strategies:

**1. Diversity Modes (18 variations)**
Each paragraph is written in a randomly selected mode from 18 options, including:
- Different narrative styles (inner monologue, dialogue, descriptive narrative)
- Various emotional tones (cynical, hopeful, melancholic, dramatic)
- Different perspectives (first-person casual, third-person omniscient, unreliable narrator)
- Structural variations (letter-like voice, philosophical tone, confession vibe)

**2. Settings (10 variations)**
Each paragraph is placed in a randomly chosen setting to vary the context:
- Location types (small town, crowded city, countryside)
- Social contexts (family gathering, workplace, formal event)
- Time and privacy (late at night, public place, private conversation)

**3. Anti-Repetition System**
We maintain a `topic_history` dictionary that stores short "idea tags" (first 12 words) of the last 5 generated paragraphs per topic. These tags are fed back into the prompt with an explicit instruction to avoid repeating those ideas. This prevents the model from generating similar storylines or examples within the same topic.

### Prompt Engineering
The prompt is carefully designed to generate text that is:
- **Natural and human-like**: Explicitly instructs to avoid essay-like structures, numbered lists, or academic framing
- **Free of AI tells**: Bans overused AI words like "tapestry", "delve", and "testament"
- **Topic-agnostic in content**: Forbids mentioning the topic name explicitly, so classifiers must learn from writing style rather than keywords
- **Appropriately sized**: Specifies 100-200 words to match the Class 1 human-written paragraphs

Key instructions include:
- "Avoid phrases like 'In conclusion', 'This essay discusses', or 'Overall'"
- "Vary sentence length and rhythm"
- "Do not reuse the same plot structure as earlier outputs"
- "Return only the paragraph text" (no titles or formatting)

### Output Cleaning and Validation
The `clean_output()` function removes artifacts that Gemini sometimes adds:
- Surrounding quotation marks (both straight and curly quotes)
- Extra newlines and formatting
- Collapses multiple blank lines into single spaces

**Word Count Validation**: Each generated paragraph is validated to ensure it falls within 100-200 words. If validation fails, the script retries up to 2 times with slightly higher temperature (1.1 instead of 1.0) for more variation.

### Rate Limiting and Error Handling
To work within Gemini API's free tier limits:
- **Sleep delay**: 2.0 seconds between requests to avoid rate limiting
- **Error handling**: Catches and logs API errors (quota exceeded, max tokens reached) and continues with the next paragraph after a 5-second delay
- **Graceful continuation**: If a file already exists, it skips generation, allowing the script to resume after interruptions

### Generation Parameters
- **Temperature**: 1.0 (high for diversity; increased to 1.1 on retries)
- **Top-p**: 0.95 (nucleus sampling for quality while maintaining variety)
- **Max output tokens**: 2048 (generous limit to accommodate thinking tokens without truncation)

### Topics CSV Structure
The script reads from `topic-list.csv` which contains:
- `topic_id`: Unique identifier (T01, T02, etc.)
- `topic_name`: Human-readable topic name
- `topic_description`: Detailed description to guide generation

Each topic gets 25 paragraphs (PARAS_PER_TOPIC = 25), resulting in 500 total paragraphs across 20 topics.

### Why These Choices Matter for Classification
These design choices ensure that:
1. **The AI-generated text is genuinely diverse**, not just 500 variations of the same pattern
2. **Common AI tells are minimized**, making the classification task more challenging and realistic
3. **The content is topic-agnostic**, forcing classifiers to learn stylistic rather than semantic differences
4. **The text length and structure match human-written samples**, ensuring fair comparison

